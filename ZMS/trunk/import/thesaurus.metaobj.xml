<?xml version="1.0" encoding="utf-8"?><dictionary>
<item key="dtml"><![CDATA[<!-- BO bodyContentZMSCustom_thesaurusObj -->

<dtml-comment>
##########################################################################################
# Author:   Dr.Frank Hoffmann <fh@hoffmannliebenberg.de>
# Company:  HOFFMANN+LIEBENBERG GmbH
# WWW:      http://www.hoffmannliebenberg.de
# Date:     13.05.2004
# Version:  0.1
# Comments: Example for Special Object with Thesaurus Custom Dialog
##########################################################################################
</dtml-comment>

<span class="thesaurusObj-thesValue">
 <dtml-if "getObjProperty('thesValue',REQUEST)">
  <dtml-var "getObjProperty('thesValue',REQUEST)">
 </dtml-if>
</span>

<!-- EO bodyContentZMSCustom_thesaurusObj -->
]]></item>
<item key="enabled" type="int">1</item>
<item key="key"><![CDATA[thesaurusObj]]></item>
<item key="value" type="dictionary"><dictionary>
<item key="__obj_attrs__" type="list"><list>
<item type="dictionary"><dictionary>
<item key="custom"></item>
<item key="id"><![CDATA[thesUrl]]></item>
<item key="keys" type="list"><list>
</list>
</item>
<item key="mandatory" type="int">0</item>
<item key="multilang" type="int">1</item>
<item key="name"><![CDATA[URL]]></item>
<item key="repetitive" type="int">0</item>
<item key="type"><![CDATA[url]]></item>
</dictionary>
</item>
<item type="dictionary"><dictionary>
<item key="custom"><![CDATA[thesDialog]]></item>
<item key="id"><![CDATA[thesValue]]></item>
<item key="keys" type="list"><list>
</list>
</item>
<item key="mandatory" type="int">0</item>
<item key="multilang" type="int">1</item>
<item key="name"><![CDATA[Value]]></item>
<item key="repetitive" type="int">0</item>
<item key="type"><![CDATA[dialog]]></item>
</dictionary>
</item>
<item type="dictionary"><dictionary>
<item key="custom"><![CDATA[Rechtssystematik
     Rechtsentstehung
          "objektives" Recht
               Allgemein
                    Rechtsetzungsform
                    Rechtssetzungsmotive
                    Rechtsänderung
                    Rechtsbesserung
                    Rechtsetzungsrecht
                    Reformation des Rechts
                    Regelungsbeschränkung auf Grundsätze
                    Rechtsetzungskompetenz
                    Promulgationsformel
          "subjektives" Recht
               Entstehung
                    Handlung
                         Handlungsfähigkeit
                         Willensbestimmung
                              Zwang
                              Irrtum
                         Rechtsgeschäft
                              Unwirksamkeit
                                   Veräußerungsverbot litis pendente
                         Unerlaubte Handlung
                         Zeit
                              Beginn
                                   Frist
                                   Fristverlängerung
                                   Fristunterbrechung
                              Ende
                              Dauer
                                   Sonnenschein
                                   12 Jahre
                                   14 Jahre
]]></item>
<item key="id"><![CDATA[catalog]]></item>
<item key="keys" type="list"><list>
</list>
</item>
<item key="mandatory" type="int">0</item>
<item key="multilang" type="int">0</item>
<item key="name"><![CDATA[Catalog]]></item>
<item key="repetitive" type="int">0</item>
<item key="type"><![CDATA[constant]]></item>
</dictionary>
</item>
<item type="dictionary"><dictionary>
<item key="custom"><![CDATA[<!--// BO catalog_items ( method )  //-->

 <dtml-let 
     catalog_items0="[]" 
     catalog_items1="[]" 
     indent_char="getObjProperty('indent_char',REQUEST)">
  <dtml-in "getObjProperty('catalog',REQUEST).split('\n')">
   <dtml-let text=sequence-item>
    <dtml-call "REQUEST.set('level',0)">
    <dtml-call "REQUEST.set('break',0)">
    <dtml-in "text.split(indent_char)">
     <dtml-unless break>
      <dtml-let s=sequence-item>
       <dtml-if "s==''">
        <dtml-call "REQUEST.set('level',level+1)">
       <dtml-else>
        <dtml-call "REQUEST.set('break',0)">
       </dtml-if>
      </dtml-let>
     </dtml-unless>
    </dtml-in>
    <dtml-call "REQUEST.set('l',[])">
    <dtml-call "l.extend(['level',level])">
    <dtml-call "l.extend(['text',text])">
    <dtml-call "catalog_items0.append(dict_list(l))">
   </dtml-let>
  </dtml-in>
  <dtml-call "REQUEST.set('obj_path',[])">
  <dtml-in catalog_items0 mapping>
   <dtml-call "REQUEST.set('has_children',0)">
   <dtml-let i=sequence-index>
    <dtml-if sequence-start>
     <dtml-call "obj_path.append('/'+_.str(i))">
    <dtml-else>
     <dtml-if "catalog_items0[i-1]['level']<level">
      <dtml-call "obj_path.append('/'+_.str(i))">
     <dtml-elif "catalog_items0[i-1]['level']==level">
      <dtml-call "obj_path.remove(obj_path[-1])">
      <dtml-call "obj_path.append('/'+_.str(i))">
     <dtml-else>
      <dtml-in "_.range(level,catalog_items0[i-1]['level']+1)">
       <dtml-call "obj_path.remove(obj_path[-1])">
      </dtml-in>
      <dtml-call "obj_path.append('/'+_.str(i))">
     </dtml-if>
    </dtml-if>
    <dtml-unless sequence-end>
     <dtml-call "REQUEST.set('has_children',catalog_items0[i+1]['level']==level+1)">
    </dtml-unless>
   </dtml-let>
   <dtml-call "REQUEST.set('l',[])">
   <dtml-call "l.extend(['level',level])">
   <dtml-call "l.extend(['text',text.strip()])">
   <dtml-call "l.extend(['has_children',has_children])">
   <dtml-call "l.extend(['obj_path',''.join(obj_path)])">
   <dtml-call "catalog_items1.append(dict_list(l))">
  </dtml-in>
  <dtml-return catalog_items1>
 </dtml-let>

<!--// EO catalog_items ( method )  //-->
]]></item>
<item key="id"><![CDATA[catalog_items]]></item>
<item key="keys" type="list"><list>
</list>
</item>
<item key="mandatory" type="int">0</item>
<item key="multilang" type="int">0</item>
<item key="name"><![CDATA[Catalog Items]]></item>
<item key="repetitive" type="int">0</item>
<item key="type"><![CDATA[method]]></item>
</dictionary>
</item>
<item type="dictionary"><dictionary>
<item key="custom"><![CDATA[<!--// BO indent_char ( method )  //-->

  <dtml-return "'     '">

<!--// EO indent_char ( method )  //-->
]]></item>
<item key="id"><![CDATA[indent_char]]></item>
<item key="keys" type="list"><list>
</list>
</item>
<item key="mandatory" type="int">0</item>
<item key="multilang" type="int">0</item>
<item key="name"><![CDATA[Catalog Indent Character]]></item>
<item key="repetitive" type="int">0</item>
<item key="type"><![CDATA[method]]></item>
</dictionary>
</item>
<item type="dictionary"><dictionary>
<item key="custom"><![CDATA[<!--// BO thesDialog ( DTML Method )  //-->

<dtml-var manage_page_header>
<title>Thesaurus-Dialog</title>
<script language="JavaScript">
<!--//

  function selectObject(id) 
  {
    var fm = self.parent.opener.document.forms['<dtml-var fmName>'];
    var el = fm.elements['<dtml-var elName>'];
    el.value = el.value + id + '\n';
    self.parent.close();
  }

//-->
</script>
</head>
<body class="zmiNeutralColorStrong0" alink="#990000" vlink="#cc0000" link="#336699" leftmargin="0" topmargin="0" marginheight="0" marginwidth="0">
<table cellspacing="0" cellpadding="8" border="0" width="100%" height="100%" class="zmiNeutralColorLight0">
<tr>
 <td align="left" valign="top" height="100%">
 <dtml-let catalog_items="getObjProperty('catalog_items',REQUEST)">
  <div class="form-label"><dtml-var "_.len(catalog_items)"> lines</div>
  <dtml-try>
  <dtml-in catalog_items mapping>
   <dtml-if sequence-start>
    <dtml-call "REQUEST.set('req_obj_path',REQUEST.get('req_obj_path',obj_path))">
   </dtml-if>
   <dtml-if "(req_obj_path+'/').find(obj_path+'/') == 0 or
             ( _.len(obj_path.split('/')) > _.len(req_obj_path.split('/')) and
               _.len(obj_path.split('/')) < _.len(req_obj_path.split('/')) + 2 and
              (obj_path+'/').find(req_obj_path+'/') == 0 )">
    <div class="form-small">
     <img src="<dtml-var spacer_gif>" title="" border="0" height="16" width="<dtml-var "level*16">" align="absmiddle"/>
     <dtml-if has_children>
      <a href="?lang=<dtml-var lang>&fmName=<dtml-var fmName>&elName=<dtml-var elName>&req_obj_path=<dtml-var obj_path>"><img src="p_/pl" title="" border="0" height="16" width="16" align="absmiddle"/></a>
     <dtml-else>
      <img src="<dtml-var spacer_gif>" title="" border="0" height="16" width="16" align="absmiddle"/>
     </dtml-if>
     <a href="javascript:selectObject('<dtml-var text html_quote>');" class="zmi"
      ><dtml-if "(req_obj_path+'/')==(obj_path+'/')"><b></dtml-if
      ><dtml-var text html_quote
      ><dtml-if "(req_obj_path+'/')==(obj_path+'/')"></b></dtml-if
     ></a>
    </div>
   </dtml-if>
  </dtml-in>
  <dtml-except>
  <dtml-var catalog_items>
  </dtml-try>
 </dtml-let>
 </td>
</tr>
</table>
</body>
</html>

<!--// EO thesDialog ( DTML Method )  //-->
]]></item>
<item key="id"><![CDATA[thesDialog]]></item>
<item key="keys" type="list"><list>
</list>
</item>
<item key="mandatory" type="int">0</item>
<item key="multilang" type="int">0</item>
<item key="name"><![CDATA[Value - Dialog]]></item>
<item key="repetitive" type="int">0</item>
<item key="type"><![CDATA[DTML Method]]></item>
</dictionary>
</item>
</list>
</item>
<item key="acquired" type="int">0</item>
<item key="name"><![CDATA[Thesaurus-Objekt]]></item>
<item key="type"><![CDATA[ZMSObject]]></item>
</dictionary>
</item>
</dictionary>
